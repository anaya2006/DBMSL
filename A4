2nd IMPLEMENTATION

CREATE TABLE CIRCLE (RADIUS FLOAT (5) ,  AREAS FLOAT (5)); 

    DECLARE
     r FLOAT ;
     a FLOAT ;

     BEGIN 
        FOR i IN 5..9 
         LOOP
         a := 3.14*i*i;
         INSERT INTO CIRCLE (RADIUS, AREAS) VALUES (i,a);
         END LOOP;
    END;
    /
    
    
 1st IMPLEMENTATION 
 
DECLARE 
v_rollno number(3);
v_doi date ;
v_bname varchar2(10);
v_amt number(5);
v_days number(3);
NOFINE EXCEPTION;
NOUSER EXCEPTION;

BEGIN
DBMS_OUTPUT.PUT_LINE ('Enter roll number of student to calculate fine');
v_rollno &= v_rollno;
DBMS_OUTPUT.PUT_LINE ('Enter book name : ');
v_bname &= v_bname;
IF v_rollno<=0 THEN
  RAISE NOUSER;

    SELECT DOI INTO v_doi FROM BORROWER WHERE ROLL = v_rollno AND BNAME =v_bname;
    v_days:= trunc(SYSDATE)-v_doi ;
    IF v_days BETWEEN 15 AND 30 THEN
       v_amt:=v_days*5;
    ELSIF v_days>30 THEN
       v_amt:=v_days*50;
    ELSE 
      v_amt:=0;
      END IF;

    IF v_amt>0 THEN
    INSERT INTO FINE VALUES (v_rollno , SYSDATE, v_amt);
    END IF;
    dbms_output.put_line('Roll no. '|| v_rollno || ' was fined ' || v_amt || ' rs');
    UPDATE BORROWER 
      SET BSTATUS='R' WHERE ROLL=v_rollno 
      AND  BNAME= v_bname;

EXCEPTION
WHEN  NOUSER  THEN
dbms_output.put_line('Invalid Roll no Entered');   
END;
/
